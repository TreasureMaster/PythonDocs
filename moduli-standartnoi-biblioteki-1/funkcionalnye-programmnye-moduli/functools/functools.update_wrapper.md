# functools.update\_wrapper\(\)

###  functools.update\_wrapper\(_wrapper_, _wrapped_, _assigned=WRAPPER\_ASSIGNMENTS_, _updated=WRAPPER\_UPDATES_\)

Обновляет функцию _**wrapper**_, чтобы она выглядела как функция _**wrapped**_. Необязательные аргументы - это кортежи, указывающие, какие атрибуты исходной функции назначаются непосредственно соответствующим атрибутам в функции _**wrapper**_ и какие атрибуты функции _**wrapper**_ обновляются соответствующими атрибутами исходной функции. Значения по умолчанию для этих аргументов - это константы уровня модуля **WRAPPER\_ASSIGNMENTS** \(которые присваиваются `__module__`, `__name__`, `__qualname__`, `__annotations__` и `__doc__` функции _**wrapper**_, строка документации\) и **WRAPPER\_UPDATES** \(обновляет `__dict__` функции _**wrapper**_, то есть словарь экземпляра\).

Чтобы разрешить доступ к исходной функции для самоанализа и других целей \(например, в обход декоратора кеширования, такого как [lru\_cache \(\)](functools.lru_cache.md)\), эта функция автоматически добавляет атрибут `__wrapped__` к оболочке, которая относится к оборачиваемой функции.

Основное предполагаемое использование этой функции - [функции-декораторы](https://docs.python.org/3/glossary.html#term-decorator), которые обертывают декорированную функцию и возвращают _**wrapper**_. Если функция _**wrapper**_ не обновляется, метаданные возвращаемой функции будут отражать определение _**wrapper**_, а не исходное определение функции, которое обычно менее чем полезно.

**update\_wrapper \(\)** может использоваться с вызываемыми объектами, отличными от функций. Любые атрибуты, указанные в назначенных или обновленных, которые отсутствуют в оборачиваемом объекте, игнорируются \(т.е. эта функция не будет пытаться установить их в функции _**wrapper**_\). [AttributeError](https://docs.python.org/3/library/exceptions.html#AttributeError) по-прежнему возникает, если в самой функции _**wrapper**_ отсутствуют какие-либо атрибуты, указанные в _**updated**_.

_Новое в версии 3.2_: автоматическое добавление атрибута `__wrapped__`.

_Новое в версии 3.2_: Копирование атрибута `__annotations__` по умолчанию.

_Изменено в версии 3.2_: Отсутствующие атрибуты больше не вызывают [AttributeError](https://docs.python.org/3/library/exceptions.html#AttributeError).

_Изменено в версии 3.4_: атрибут `__wrapped__` теперь всегда относится к функции _**wrapped**_, даже если эта функция определила атрибут `__wrapped__`. \(см. [bpo-17482](https://bugs.python.org/issue17482)\)

